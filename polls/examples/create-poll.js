const { getPollParams, ACTIONS } = require("../rpc");

const POST = {
  contentUri:
    "lens://bf2c6852052a424b5d31ca45fb36a74e4bab37ccc480cb661728671aac1a6ecc",
};

const poll = {
  endTimestamp: 1723651200,
  allowMultipleAnswers: true,
  questions: ["yes", "no", "maybe"],
};

const pollParams = getPollParams(poll);
const pollConfig = {
  unknown: {
    address: ACTIONS.POLL,
    ...(pollParams.length > 0 ? { params: pollParams } : {}),
  },
};

const variables = {
  request: { ...POST, actions: [pollConfig] },
};

// EXAMPLE
// {
//   "request": {
//     "contentUri": "lens://bf2c6852052a424b5d31ca45fb36a74e4bab37ccc480cb661728671aac1a6ecc",
//     "actions": [
//       {
//         "unknown": {
//           "address": "0x0b9507487800f0c385a240199fdf1d79131e8e25",
//           "params": [
//             {
//               "raw": {
//                 "data": "0x0000000000000000000000000000000000000000000000000000019d25ad2f00",
//                 "key": "0xe2a4a768f409ba480a321a7d36ec9da16e9eae60a25bb0aeccf334822cc859a8"
//               }
//             },
//             {
//               "raw": {
//                 "data": "0x0000000000000000000000000000000000000000000000000000000000000001",
//                 "key": "0x493c15636df8cb2a8e0e99f24b8974bb83106ca6fe37fe24eab2d679fed5ebb3"
//               }
//             },
//             {
//               "raw": {
//                 "data": "0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000003796573000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000026e6f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000056d61796265000000000000000000000000000000000000000000000000000000",
//                 "key": "0xb3b07c7b034d83c7460539ad9d5ba833df459b4462b7320af957655e85eadd2e"
//               }
//             }
//           ]
//         }
//       }
//     ]
//   }
// }
